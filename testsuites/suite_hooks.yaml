config:
  name: Suite With Hooks
  base_url: ${ENV(BASE_URL)}
  setup_hooks:
    - ${setup_hook_sign_request($request)}
  teardown_hooks:
    - ${teardown_hook_capture_request_id($response)}
cases:
  - config:
      name: Case With Hooks
      setup_hooks:
        - ${setup_hook_sign_request($request)}
      teardown_hooks:
        - ${teardown_hook_assert_status_ok($response)}
    steps:
      - name: get root with signed header
        request:
          method: GET
          url: /
        validate:
          - eq: [status_code, 200]
        extract:
          request_id: $.request_id
