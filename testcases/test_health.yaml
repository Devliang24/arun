config:
  name: Health Checks
  base_url: ${ENV(BASE_URL)}
  tags: [health]
steps:
  - name: get health
    request:
      method: GET
      url: /health
    validate:
      - eq: [status_code, 200]
      - contains: [headers.Content-Type, "application/json"]
      - eq: [$.success, true]
      - eq: [$.code, 200]
      - eq: [$.message, "服务健康状态正常"]
      - eq: [$.data.status, "healthy"]
      - contains: [$.data, "service"]

  - name: get root
    request:
      method: GET
      url: /
    validate:
      - eq: [status_code, 200]
      - contains: [headers.Content-Type, "application/json"]
      - eq: [$.success, true]
      - eq: [$.code, 200]
      - eq: [$.message, "欢迎使用电商API"]
      - contains: [$.data, "version"]
